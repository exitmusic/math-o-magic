// Generated by CoffeeScript 1.3.3
(function() {

  $(document).ready(function() {
    /*
      Displays the individual score for the player in the trivia room
    */
    return window.PlayerScoreView = Backbone.View.extend({
      el: $("#score"),
      initialize: function() {
        return this.model.bind("updatePlayerScoreEvent", this.updatePlayerScore, this);
      },
      updatePlayerScore: function(points) {
        var currentScore, newScore;
        currentScore = this.$el.find("h2.player-score");
        newScore = parseInt(currentScore.text(), 10) + points;
        this.$el.find($("h2.player-score")).html(newScore);
        return this.animatePoints(points);
      },
      animatePoints: function(points) {
        var pointsNotify;
        pointsNotify = "<div id=\"points-notify\">+" + points + "</div>";
        this.$el.append(pointsNotify);
        return $("#points-notify").animate({
          opacity: 0,
          top: "-=20"
        }, 800, function() {
          return $(this).remove();
        });
      }
    });
  });

}).call(this);
